{{ define "styles" }}
<link rel="stylesheet" href="/styles/music.css" />
{{ end }} {{ define "bodyAttrs" }} onload="startTime()"{{ end }} {{ define
"main" }}
<img src="/media/images/music_header.png" />
<div class="content">
  <div class="header">
    <div class="left-header">
      <a href="/">vita nouva</a> / <strong>music</strong>
    </div>
    <div class="right-header">
      <div class="navigation">
        <a
          href="/music-pages/discoveries/"
          class="nav-link single active"
          target="music-frame"
          onclick="clickSingleA(this)"
          >discoveries</a
        >
        <a
          href="/music-pages/favorite-albums/"
          class="nav-link single"
          target="music-frame"
          style="border-right: none"
          onclick="clickSingleA(this)"
          >favorite albums</a
        >
      </div>
    </div>
  </div>
  <div class="content">
    <div class="main-content">
      <div class="left">
        <div class="music-section">
          <div class="title">listening to:</div>
          <div class="musicframe">
            <img
              id="trackart"
              src="https://lastfm.freetls.fastly.net/i/u/174s/4128a6eb29f94943c9d206c08e625904.jpg"
              alt="Album artwork"
            />
            <div class="trackInfo">
              <a
                id="trackartist"
                style="pointer-events: none"
                title="Artist: Wolfgang Amadeus Mozart"
                >Wolfgang Amadeus Mozart</a
              >
              <a
                id="tracktitle"
                href="https://www.last.fm/music/Wolfgang+Amadeus+Mozart/_/Eine+kleine+Nachtmusik"
                title="Eine kleine Nachtmusik by Wolfgang Amadeus Mozart"
                target="_blank"
                >Eine kleine Nachtmusik</a
              >
              <div
                class="loading-indicator"
                style="display: none; font-size: 0.8em; color: #666"
              >
                Loading current track...
              </div>
            </div>
          </div>
        </div>
        {{ with .Site.Data.music.featured.featured_album }}
        <div class="music-section">
          <div class="title">featured album</div>
          <div class="musicframe">
            <img src="{{ .image }}" />
            <div class="trackInfo">
              <div class="artist">{{ .artist }}</div>
              <div class="tracktitle">
                <a href="{{ .url }}"> {{ .title }} </a>
              </div>
            </div>
          </div>
        </div>
        {{ end }} {{ with .Site.Data.music.featured.featured_song }}
        <div class="music-section">
          <div class="title">featured song</div>
          <div class="musicframe">
            <img src="{{ .image }}" />
            <div class="trackInfo">
              <div class="artist">{{ .artist }}</div>
              <div class="tracktitle">
                <a href="{{ .url }}"> {{ .title }} </a>
              </div>
            </div>
          </div>
        </div>
        {{ end }}
      </div>
      <div class="right">
        <iframe
          name="music-frame"
          src="/music-pages/discoveries/"
          class="music-iframe"
          id="dynamicIframe"
        ></iframe>
      </div>
    </div>
  </div>
  <div
    class="header"
    style="
      height: 24px;
      border-bottom: none;
      position: sticky;
      bottom: 0;
      box-sizing: border-box;
    "
  >
    <div
      class="left-header"
      style="border-top: 1px dotted var(--darkbrown); border-bottom: none"
    ></div>
    <div
      class="right-header"
      style="
        border-top: 1px dotted var(--darkbrown);
        box-sizing: border-box;
        padding-top: 5px;
        text-align: right;
      "
    >
      c. lr0 2025
    </div>
  </div>
</div>
{{ end }} {{ define "scripts" }}
<script>
  function startTime() {
    const today = new Date();
    let h = today.getHours();
    let m = today.getMinutes();
    let s = today.getSeconds();
    m = checkTime(m);
    s = checkTime(s);
    const txtEl = document.getElementById("txt");
    if (txtEl) txtEl.innerHTML = h + ":" + m + ":" + s;
    setTimeout(startTime, 1000);
  }
  function checkTime(i) {
    if (i < 10) {
      i = "0" + i;
    }
    return i;
  }
</script>
<script src="/scripts/active.js"></script>
<script src="/js/lastfm.js"></script>
{{ end }}
